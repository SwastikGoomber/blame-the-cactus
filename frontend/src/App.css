@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

/* Global Styles */
.pixelated {
  font-family: 'Press Start 2P', monospace;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Responsive base */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

/* Button styles */
button {
  transition: all 0.1s ease;
  box-shadow: 0 4px 0 rgba(0, 0, 0, 0.3);
  position: relative;
  font-family: 'Press Start 2P', monospace;
}

button:hover:not(:disabled) {
  transform: translateY(1px);
  box-shadow: 0 3px 0 rgba(0, 0, 0, 0.3);
}

button:active:not(:disabled) {
  transform: translateY(2px);
  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);
}

button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

/* Animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

@keyframes cactus-grow {
  0% { transform: scaleY(0.5); }
  100% { transform: scaleY(1); }
}

.cactus-growing {
  animation: cactus-grow 0.5s ease-out;
}

@keyframes harvest-ready {
  0%, 100% { 
    box-shadow: 0 0 10px #22c55e; 
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 0 20px #22c55e, 0 0 30px #16a34a; 
    transform: scale(1.05);
  }
}

.harvestable {
  animation: harvest-ready 2s ease-in-out infinite;
}

/* Game world styles */
.game-world {
  cursor: crosshair;
  user-select: none;
}

.game-world:active {
  cursor: grabbing;
}

/* Manual cactus styles */
.manual-cactus {
  position: absolute;
  transition: all 0.3s ease;
  z-index: 10;
}

.manual-cactus:hover {
  filter: brightness(1.2);
  transform: scale(1.1);
}

.cactus-planted {
  animation: cactus-grow 0.5s ease-out;
}

/* Auto farm styles */
.auto-farm {
  position: absolute;
  background: linear-gradient(45deg, #f3f4f6, #e5e7eb);
  border: 4px solid #6b7280;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}

.auto-farm:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 20px rgba(0, 0, 0, 0.4);
}

.auto-farm::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, #3b82f6, #1d4ed8, #7c3aed, #9333ea);
  background-size: 200% 200%;
  animation: farm-glow 3s ease-in-out infinite;
  border-radius: inherit;
  z-index: -1;
}

@keyframes farm-glow {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Parallax background layers */
.bg-layer-1 {
  background-attachment: fixed;
  background-repeat: repeat-x;
}

.bg-layer-2 {
  background-attachment: scroll;
  background-repeat: repeat-x;
  opacity: 0.8;
}

/* Notification styles */
.notification-blame {
  background: linear-gradient(135deg, #dc2626, #b91c1c);
  border-left: 4px solid #7f1d1d;
  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
}

.notification-cultist {
  background: linear-gradient(135deg, #7c3aed, #6d28d9);
  border-left: 4px solid #4c1d95;
  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
  animation: cultist-glow 2s ease-in-out infinite;
}

@keyframes cultist-glow {
  0%, 100% { box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3); }
  50% { box-shadow: 0 6px 16px rgba(124, 58, 237, 0.6); }
}

.notification-source {
  background: linear-gradient(135deg, #16a34a, #15803d);
  border-left: 4px solid #14532d;
}

.notification-farm {
  background: linear-gradient(135deg, #2563eb, #1d4ed8);
  border-left: 4px solid #1e3a8a;
}

/* Tool selection highlights */
.tool-selected {
  box-shadow: 0 0 15px rgba(147, 51, 234, 0.8);
  animation: tool-pulse 1.5s ease-in-out infinite;
}

@keyframes tool-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* Modal styles */
.modal-overlay {
  backdrop-filter: blur(4px);
}

.modal-content {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  max-height: 90vh;
  overflow-y: auto;
}

/* Minigame styles */
.minigame-progress {
  background: linear-gradient(90deg, #ef4444, #f97316, #eab308, #22c55e);
  background-size: 200% 100%;
  animation: progress-glow 2s ease-in-out infinite;
}

@keyframes progress-glow {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Custom brown colors */
.bg-brown-100 { background-color: #f5deb3; }
.bg-brown-200 { background-color: #deb887; }
.bg-brown-500 { background-color: #8b4513; }
.border-brown-400 { border-color: #cd853f; }
.border-brown-700 { border-color: #8b4513; }

/* Growth animation */
.growth-boost {
  animation: growth-burst 0.5s ease-out;
}

@keyframes growth-burst {
  0% { transform: scale(1); filter: brightness(1); }
  50% { transform: scale(1.2); filter: brightness(1.5); }
  100% { transform: scale(1); filter: brightness(1); }
}

/* Harvest effect */
.harvest-effect {
  animation: harvest-burst 0.8s ease-out;
}

@keyframes harvest-burst {
  0% { 
    transform: scale(1) rotate(0deg); 
    opacity: 1; 
  }
  50% { 
    transform: scale(1.5) rotate(180deg); 
    opacity: 0.8; 
  }
  100% { 
    transform: scale(0) rotate(360deg); 
    opacity: 0; 
  }
}

/* TPS warning */
.tps-warning {
  animation: tps-alert 1s ease-in-out infinite;
}

@keyframes tps-alert {
  0%, 100% { color: #ef4444; }
  50% { color: #fbbf24; }
}

/* Scroll indicators */
.scroll-hint {
  animation: scroll-bounce 2s ease-in-out infinite;
}

@keyframes scroll-bounce {
  0%, 100% { transform: translateX(0); }
  50% { transform: translateX(10px); }
}

/* Environmental object styles */
.env-object {
  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
  transition: all 0.3s ease;
}

.env-object:hover {
  filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.5));
  transform: scale(1.05);
}

/* Responsive design */
@media (max-width: 768px) {
  .pixelated {
    font-size: 0.6em;
  }
  
  .modal-content {
    margin: 1rem;
    max-height: 85vh;
  }
  
  .fixed.top-0.left-0.right-0 {
    padding: 0.5rem;
  }
  
  .fixed.bottom-4 {
    bottom: 1rem;
  }
  
  .auto-farm {
    transform: scale(0.8);
  }
  
  .manual-cactus {
    transform: scale(0.9);
  }
}

@media (max-width: 480px) {
  .pixelated {
    font-size: 0.5em;
  }
  
  .grid.grid-cols-1.md\\:grid-cols-2.lg\\:grid-cols-3 {
    grid-template-columns: 1fr;
  }
  
  .flex.space-x-6 {
    flex-direction: column;
    space-x: 0;
    gap: 0.25rem;
  }
}

/* High DPI support */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .pixelated {
    image-rendering: -webkit-optimize-contrast;
  }
}

/* Accessibility improvements */
button:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.modal-content:focus {
  outline: none;
}

/* Performance optimizations */
.game-world * {
  will-change: transform;
}

.auto-farm, .manual-cactus {
  contain: layout style paint;
}